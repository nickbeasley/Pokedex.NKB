let pokemonRepository=function(){let e=[],t=document.getElementById("loading-message"),n=(document.querySelector("#modal-container"),document.querySelector("#pokedex-search")),i=document.querySelector(".list-group-horizontal");function a(t){"object"==typeof t&&"name"in t&&e.push(t)}function o(e){let t=document.createElement("li");t.classList.add("group-list-item");let n=document.createElement("button");n.classList.add("pokemonButton"),n.innerText=e.name[0].toUpperCase()+e.name.slice(1),n.setAttribute("data-toggle","modal"),n.setAttribute("data-target","#pokemon-modal"),n.classList.add("button-class"),t.appendChild(n),i.appendChild(t),n.addEventListener("click",(function(){s(e)}))}function s(t){d(t).then((function(){var n;let i,a,o,l,d,c,p,m,u,f,h,g,k;n=t,i=$(".modal-body"),a=$(".modal-title"),o=$(".modal-footer"),a.empty(),i.empty(),o.empty(),l=$("<h3>"+n.name[0].toUpperCase()+n.name.slice(1)+"</h3>"),(d=$('<img class="pokemon-img">')).attr("src",n.imageUrl),(c=$('<img class="pokemon-img2">')).attr("src",n.backImageUrl),p=$('<p class="modal-item">#'+n.id+"</p>"),m=$('<p class="modal-item">Height: '+n.height+"ft</p>"),u=$('<p class="modal-item">Weight: '+n.weight+"lbs</p>"),f=$('<p class="modal-item">Types: '+n.types+"</p>"),h=$('<p class="modal-item">Abilities: '+n.abilities+"</p>"),(g=document.createElement("div")).classList.add("pokemon-nav1"),0===r(n)&&g.classList.add("pokemon-nav1--disabled"),g.innerText="Previous",g.addEventListener("click",(()=>{s(e[r(n)-1])})),(k=document.createElement("div")).classList.add("pokemon-nav2"),r(n)===e.length-1&&k.classList.add("pokemon-nav2--disabled"),k.innerText="Next",k.addEventListener("click",(()=>{s(e[r(n)+1])})),a.append(l),i.append(d),i.append(c),i.append(p),i.append(m),i.append(u),i.append(f),i.append(h),o.append(g),o.append(k)}))}function l(t=""){return c(),fetch("https://pokeapi.co/api/v2/pokemon/?limit=250").then((function(e){return e.json()})).then((function(n){e=[],n.results.forEach((function(e){var n;let i={name:e.name,detailsUrl:e.url};n=t,i.name.toUpperCase().includes(n.toUpperCase())&&a(i)})),p()})).catch((function(e){p()}))}function d(e){return c(),fetch(e.detailsUrl).then((function(e){return e.json()})).then((function(t){e.imageUrl=t.sprites.front_default,e.backImageUrl=t.sprites.back_default,e.id=t.id,e.weight=t.weight,e.height=t.height,e.types=t.types.map((function(e){return" "+e.type.name})),e.abilities=t.abilities.map((function(e){return" "+e.ability.name})),p()})).catch((function(e){p()}))}function c(){t.innerText="Loading..."}function p(){t.innerText=""}function r(t){return e.findIndex((e=>e.name===t.name))}return n.addEventListener("input",(function(){let t=n.value.trim();i.innerHTML="",l(t).then((function(){e.forEach((function(e){o(e)}))}))})),{add:a,getAll:function(){return e},addListItem:o,loadList:l,loadDetails:d,showDetails:s}}();pokemonRepository.loadList().then((function(){pokemonRepository.getAll().forEach((function(e){pokemonRepository.addListItem(e)}))}));