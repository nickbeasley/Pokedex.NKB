let pokemonRepository=function(){let f=[],g=document.getElementById("loading-message"),a=(document.querySelector("#modal-container"),document.querySelector("#pokedex-search"));function b(a){"object"==typeof a&&"name"in a?f.push(a):console.log("pokemon is not correct")}function c(){return f}function d(a){e(a).then(function(){j(a),console.log(a)})}function e(a){return h(),fetch(a.detailsUrl).then(function(a){return a.json()}).then(function(b){a.imageUrl=b.sprites.front_default,a.backImageUrl=b.sprites.back_default,a.id=b.id,a.weight=b.weight,a.height=b.height,a.types=b.types.map(function(a){return" "+a.type.name}),a.abilities=b.abilities.map(function(a){return" "+a.ability.name}),i()}).catch(function(a){console.error(a),i()})}function h(){g.innerText="Loading..."}function i(){g.innerText=""}function j(a){let b=$(".modal-body"),f=$(".modal-title"),e=$(".modal-footer");f.empty(),b.empty(),e.empty();let i=$("<h3>"+a.name[0].toUpperCase()+a.name.slice(1)+"</h3>"),g=$('<img class="pokemon-img">');g.attr("src",a.imageUrl);let h=$('<img class="pokemon-img2">');h.attr("src",a.backImageUrl);let j=$('<p class = "modal-item">#'+a.id+"</p>"),n=$('<p class = "modal-item">Height: '+a.height+"ft</p>"),o=$('<p class = "modal-item">Weight: '+a.weight+"lbs</p>"),p=$('<p class = "modal-item">Types: '+a.types+"</p>"),q=$('<p class = "modal-item">Abilities: '+a.abilities+"</p>"),c=document.createElement("div");c.classList.add("pokemon-nav1"),0===k(a)&&c.classList.add("pokemon-nav1--disabled"),c.innerText="Previous",c.addEventListener("click",()=>l(a));let d=document.createElement("div");d.classList.add("pokemon-nav2"),249===k(a)&&d.classList.add("pokemon-nav2--disabled"),d.innerText="Next",d.addEventListener("click",()=>m(a)),f.append(i),b.append(g),b.append(h),b.append(j),b.append(n),b.append(o),b.append(p),b.append(q),e.append(c),e.append(d)}function k(a){return f.findIndex(b=>b.name===a.name)}function l(a){d(f[k(a)-1])}function m(a){d(f[k(a)+1])}return a.addEventListener("input",function(){let b=document.querySelectorAll(".pokemonButton"),c=a.value.toUpperCase();b.forEach(function(a){a.innerText.toUpperCase().indexOf(c)> -1?a.style.display="":a.style.display="none"})}),{add:b,getAll:c,addListItem:function(c){let e=document.querySelector(".list-group-horizontal"),b=document.createElement("li");b.classList.add("group-list-item");let a=document.createElement("button");a.classList.add("pokemonButton"),a.innerText=c.name[0].toUpperCase()+c.name.slice(1),a.setAttribute("data-toggle","modal"),a.setAttribute("data-target","#pokemon-modal"),$(a).addClass("button-class btn-block btn m1"),a.classList.add("button-class"),b.appendChild(a),e.appendChild(b),a.addEventListener("click",function(){d(c)})},loadList:function(){return h(),fetch("https://pokeapi.co/api/v2/pokemon/?limit=250").then(function(a){return a.json()}).then(function(a){a.results.forEach(function(a){b({name:a.name,detailsUrl:a.url})}),i()}).catch(function(a){console.error(a),i()})},loadDetails:e,showDetails:d}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(a){pokemonRepository.addListItem(a)})})